# test-semrush-sower

### Дисклаймер
Немного изменил условия задачи, а именно
 - мастеру не обязательно заранее знать порты слэйвов
 - попытки прокинуть на слэйв повторяем не бесконечно, а Integer.MAX_VALUE раз с задержкой 2 сек и множителем 1.2
 
### Предварительное требование
Java 8

## Как запустить
### Мастер

`./gradlew master:bootRun`

подождать, пока прогреется )
то есть пока в консоли не появится надпись `Started Eureka Server`

### Слэйвы
`./gradlew slave:bootRun -PjvmArgs="-Dserver.port=9999"`

,где 9999 – номер желаемого порта

подождать какое-то время, пока дискавери подцепит слэйв.

понять это можно будет по надписи `Registered instance id localhost:slave 9999 with status UP`

## Как примерно работает
Мастер представляет собой в том числе дискавери-сервис, в котором автоматически регистрируются слэйвы.

При создании/апдейте проекта мастер пытается разослать обновления всем зарегистрированным слэйвам с помощью хистрикс-команды, используя RestTemplate.
